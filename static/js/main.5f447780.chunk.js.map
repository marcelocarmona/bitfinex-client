{"version":3,"sources":["store/ticker/actions.js","components/MainTicker/MainTicker.js","store/trades/actions.js","components/Trades/Trades.js","store/orderBook/actions.js","components/OrderBook/OrderBook.js","store/ticker/reducer.js","store/orderBook/reducer.js","store/trades/reducer.js","App.js","serviceWorker.js","index.js"],"names":["TICKER_UPDATE_MESSAGE","updateTicker","payload","type","Ticker","this","props","tickerConnection","_this$props$ticker","ticker","VOLUME","LOW","HIGH","LAST_PRICE","DAILY_CHANGE","DAILY_CHANGE_PERC","pair","react_default","a","createElement","className","PureComponent","connect","state","dispatch","ws","WebSocket","addEventListener","msg","data","JSON","parse","event","streamFields","_streamFields","Object","slicedToArray","BID","BID_SIZE","ASK","ASK_SIZE","stringify","channel","symbol","send","error","console","message","close","TRADE_UPDATE_MESSAGE","TRADE_ADD_MESSAGE","updateTrades","tradesConnection","trades","newTrade","Traders","tBTCUSD","map","_ref","_ref2","ID","MTS","AMOUNT","PRICE","key","Date","toLocaleTimeString","BOOK_SNAPSHOT_MESSAGE","BOOK_UPDATE_MESSAGE","BOOK_UPDATE_CHANNEL","updateBookChannel","orderBookConnection","frequency","presision","_state$book$channel","book","freq","prec","length","setSnapshotBook","chanId","OrderBook","changePrecision","preventDefault","_this","target","value","changeFrequency","closeConnection","orderBookCloseConnection","openConnection","_this$props","asks","bids","Fragment","onChange","onClick","keys","price","count","amount","initialState","arguments","undefined","action","objectSpread","len","books","reduce","acc","currentIndex","defineProperty","_action$payload$","bidsCopy","asksCopy","concat","toConsumableArray","slice","reducers","reducer","combineReducers","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","App","es","MainTicker_MainTicker","Trades_Trades","components_OrderBook_OrderBook","Component","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5f447780.chunk.js","sourcesContent":["/*\n * action types\n */\n\nexport const TICKER_UPDATE_MESSAGE = 'TICKER-UPDATE_MESSAGE';\n\n/*\n * action creators\n */\n\nexport function updateTicker(payload) {\n  return { type: TICKER_UPDATE_MESSAGE, payload };\n}\n\n/*\n * thunk actions\n */\n\nexport function tickerConnection() {\n  // default symbol\n  const symbol = 'tBTCUSD';\n  return function(dispatch) {\n    const ws = new WebSocket('wss://api.bitfinex.com/ws/2');\n\n    ws.addEventListener('message', msg => {\n      const data = JSON.parse(msg.data);\n      if (data.event === 'subscribed') {\n        dispatch(updateTicker({ pair: data.pair }));\n      } else if (data.event === 'info') {\n        // nothing for now\n      } else {\n        const streamFields = data[1];\n        if (streamFields !== 'hb') {\n          const [\n            BID,\n            BID_SIZE,\n            ASK,\n            ASK_SIZE,\n            DAILY_CHANGE,\n            DAILY_CHANGE_PERC,\n            LAST_PRICE,\n            VOLUME,\n            HIGH,\n            LOW\n          ] = streamFields;\n          dispatch(\n            updateTicker({\n              BID,\n              BID_SIZE,\n              ASK,\n              ASK_SIZE,\n              DAILY_CHANGE,\n              DAILY_CHANGE_PERC,\n              LAST_PRICE,\n              VOLUME,\n              HIGH,\n              LOW\n            })\n          );\n        }\n      }\n    });\n\n    const msg = JSON.stringify({\n      event: 'subscribe',\n      channel: 'ticker',\n      symbol\n    });\n    ws.addEventListener('open', () => ws.send(msg));\n    ws.addEventListener('error', error => {\n      console.error(\n        'Socket encountered error: ',\n        error.message,\n        'Closing socket'\n      );\n      ws.close();\n    });\n  };\n}\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { tickerConnection } from '../../store/ticker/actions';\nimport './MainTicker.css';\n\nclass Ticker extends PureComponent {\n  componentDidMount() {\n    this.props.tickerConnection();\n  }\n\n  render() {\n    const {\n      VOLUME,\n      LOW,\n      HIGH,\n      LAST_PRICE,\n      DAILY_CHANGE,\n      DAILY_CHANGE_PERC,\n      pair\n    } = this.props.ticker;\n    return (\n      <div className=\"ticker\">\n        <div className=\"ticker__column\">\n          <div>{pair}</div>\n          <div>VOL {VOLUME}</div>\n          <div>LOW {LOW}</div>\n        </div>\n        <div className=\"ticker__column\">\n          <div>{LAST_PRICE}</div>\n          <div>\n            {DAILY_CHANGE}({DAILY_CHANGE_PERC}%)\n          </div>\n          <div>HIGH {HIGH}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    ticker: state.ticker\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    tickerConnection: () => {\n      dispatch(tickerConnection());\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Ticker);\n","/*\n * action types\n */\n\nexport const TRADE_UPDATE_MESSAGE = 'TRADE-UPDATE_MESSAGE';\nexport const TRADE_ADD_MESSAGE = 'TRADE-ADD_MESSAGE';\n\n/*\n * action creators\n */\n\nexport function updateTrades(payload) {\n  return { type: TRADE_UPDATE_MESSAGE, payload };\n}\n\nexport function addTrade(payload) {\n  return { type: TRADE_ADD_MESSAGE, payload };\n}\n\n/*\n * thunk actions\n */\n\nexport function tradesConnection() {\n  // default symbol\n  const symbol = 'tBTCUSD';\n  return function(dispatch, state) {\n    const ws = new WebSocket('wss://api.bitfinex.com/ws/2');\n\n    ws.addEventListener('message', msg => {\n      const data = JSON.parse(msg.data);\n\n      if (data.event === 'subscribed') {\n        dispatch(updateTrades({ symbol: data.symbol, trades: [] }));\n      } else if (data.event === 'info') {\n        //nothing\n      } else {\n        const streamFields = data[1];\n\n        if (streamFields === 'tu') {\n          const newTrade = data[2];\n          dispatch(addTrade({ symbol, newTrade }));\n        } else if (streamFields !== 'hb' && streamFields !== 'te') {\n          const trades = streamFields;\n          dispatch(updateTrades({ symbol, trades }));\n        }\n      }\n    });\n\n    const msg = JSON.stringify({\n      event: 'subscribe',\n      channel: 'trades',\n      symbol\n    });\n    ws.addEventListener('open', () => ws.send(msg));\n    ws.addEventListener('error', error => {\n      console.error(\n        'Socket encountered error: ',\n        error.message,\n        'Closing socket'\n      );\n      ws.close();\n    });\n  };\n}\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { tradesConnection } from '../../store/trades/actions';\nimport './Trades.css';\n\nclass Traders extends PureComponent {\n  componentDidMount() {\n    this.props.tradesConnection();\n  }\n\n  render() {\n    const { trades } = this.props;\n    return (\n      <div className=\"trade\">\n        <table>\n          <thead>\n            <tr>\n              <th />\n              <th>TIME</th>\n              <th>AMOUNT</th>\n              <th>PRICE</th>\n            </tr>\n          </thead>\n          <tbody>\n            {trades.tBTCUSD.map(([ID, MTS, AMOUNT, PRICE]) => (\n              <tr\n                key={ID}\n                className={AMOUNT > 0 ? 'trade--bought' : 'trade--sold'}\n              >\n                <td>{AMOUNT > 0 ? '🔺' : '🔻'}</td>\n                <td>{new Date(MTS).toLocaleTimeString()}</td>\n                <td>{AMOUNT}</td>\n                <td>{PRICE}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    trades: state.trades\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    tradesConnection: () => {\n      dispatch(tradesConnection());\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Traders);\n","/*\n * action types\n */\n\nexport const BOOK_SNAPSHOT_MESSAGE = 'BOOK-SNAPSHOT_MESSAGE';\nexport const BOOK_UPDATE_MESSAGE = 'BOOK-UPDATE_MESSAGE';\nexport const BOOK_UPDATE_CHANNEL = 'BOOK-UPDATE_CHANNEL';\n\n/*\n * action creators\n */\n\nexport function updateBook(payload) {\n  return { type: BOOK_UPDATE_MESSAGE, payload };\n}\n\nexport function setSnapshotBook({ channel, payload }) {\n  return { type: BOOK_SNAPSHOT_MESSAGE, channel, payload };\n}\n\nexport function updateBookChannel(channel) {\n  return { type: BOOK_UPDATE_CHANNEL, channel };\n}\n\n/*\n * thunk actions\n */\n\n// websocket cache\nlet ws = null;\n\n/**\n * Maintain the book connection, just one connection can exist at the same time\n *\n * @param {string} frequency Frequency of updates (F0, F1).F0=realtime / F1=2sec\n * @param {string} presision Level of price aggregation (P0, P1, P2, P3)\n */\nexport function orderBookConnection(frequency, presision) {\n  return function(dispatch, state) {\n    // check if no exist a current connection\n    if (!ws) {\n      ws = new WebSocket('wss://api.bitfinex.com/ws/2');\n    } else {\n      ws.close();\n      ws = new WebSocket('wss://api.bitfinex.com/ws/2');\n    }\n\n    // open\n    ws.addEventListener('open', () => {\n      const { symbol, freq, prec } = state().book.channel;\n      const msg = JSON.stringify({\n        event: 'subscribe',\n        channel: 'book',\n        symbol,\n        freq: frequency ? frequency : freq,\n        prec: presision ? presision : prec\n      });\n      ws.send(msg);\n    });\n\n    // message\n    let channel = null;\n    ws.addEventListener('message', msg => {\n      const data = JSON.parse(msg.data);\n      if (data.event === 'subscribed') {\n        channel = data;\n      } else if (data.event === 'info') {\n        // nothing yet\n      } else {\n        const streamFields = data[1];\n        if (streamFields.length === 50) {\n          dispatch(setSnapshotBook({ channel, payload: data }));\n        } else {\n          if (streamFields !== 'hb') {\n            dispatch(updateBook(data));\n          }\n        }\n      }\n    });\n\n    // error\n    ws.addEventListener('error', error => {\n      console.error(\n        'Socket encountered error: ',\n        error.message,\n        'Closing socket'\n      );\n      ws.close();\n      dispatch(updateBookChannel({ event: null, chanId: null }));\n    });\n  };\n}\n\n/**\n * Close websocket connection\n */\nexport function orderBookCloseConnection() {\n  return function(dispatch) {\n    if (ws) {\n      ws.close();\n      dispatch(updateBookChannel({ event: null, chanId: null }));\n    }\n  };\n}\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  orderBookConnection,\n  orderBookCloseConnection\n} from '../../store/orderBook/actions';\nimport './OrderBook.css';\n\nclass OrderBook extends PureComponent {\n  componentDidMount() {\n    this.props.orderBookConnection('F1', 'P0');\n  }\n\n  changePrecision = event => {\n    event.preventDefault();\n    this.props.orderBookConnection(null, event.target.value);\n  };\n\n  changeFrequency = event => {\n    event.preventDefault();\n    this.props.orderBookConnection(event.target.value);\n  };\n\n  closeConnection = event => {\n    event.preventDefault();\n    this.props.orderBookCloseConnection();\n  };\n\n  openConnection = event => {\n    event.preventDefault();\n    this.props.orderBookConnection();\n  };\n\n  render() {\n    const { asks, bids, channel } = this.props;\n    return (\n      <>\n        {channel && (\n          <div>\n            Frequency {channel.freq}\n            &nbsp;\n            <select onChange={this.changeFrequency}>\n              <option value=\"F1\">F1</option>\n              <option value=\"F0\">F0</option>\n            </select>\n            &nbsp; Precision Level {channel.prec}\n            &nbsp;\n            <select onChange={this.changePrecision}>\n              <option value=\"P0\">P0</option>\n              <option value=\"P1\">P1</option>\n              <option value=\"P2\">P2</option>\n              <option value=\"P3\">P3</option>\n            </select>\n            &nbsp; &nbsp;\n            {channel.chanId ? (\n              <button onClick={this.closeConnection}>\n                close book connection\n              </button>\n            ) : (\n              <button onClick={this.openConnection}>\n                open book connection\n              </button>\n            )}\n          </div>\n        )}\n        <div className=\"book\">\n          <table>\n            <thead>\n              <tr>\n                <th>COUNT</th>\n                <th>AMOUNT</th>\n                <th>PRICE</th>\n              </tr>\n            </thead>\n            <tbody>\n              {Object.keys(asks).map(price => (\n                <tr key={price}>\n                  <td>{asks[price].count}</td>\n                  <td>{asks[price].amount}</td>\n                  <td>{asks[price].price}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          <table>\n            <thead>\n              <tr>\n                <th>PRICE</th>\n                <th>AMOUNT</th>\n                <th>COUNT</th>\n              </tr>\n            </thead>\n            <tbody>\n              {Object.keys(bids).map(price => (\n                <tr key={price}>\n                  <td>{bids[price].price}</td>\n                  <td>{bids[price].amount}</td>\n                  <td>{bids[price].count}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    channel: state.book.channel,\n    asks: state.book.asks,\n    bids: state.book.bids\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    orderBookConnection: (freq, prec) => {\n      dispatch(orderBookConnection(freq, prec));\n    },\n    orderBookCloseConnection: () => {\n      dispatch(orderBookCloseConnection());\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(OrderBook);\n","import { TICKER_UPDATE_MESSAGE } from './actions';\n\nconst initialState = {\n  pair: 'BTCUSD',\n  BID: 0,\n  BID_SIZE: 0,\n  ASK: 0,\n  ASK_SIZE: 0,\n  DAILY_CHANGE: 0,\n  DAILY_CHANGE_PERC: 0,\n  LAST_PRICE: 0,\n  VOLUME: 0,\n  HIGH: 0,\n  LOW: 0\n};\n\nfunction ticker(state = initialState, action) {\n  switch (action.type) {\n    case TICKER_UPDATE_MESSAGE:\n      return {\n        ...state,\n        ...action.payload\n      };\n    default:\n      return state;\n  }\n}\n\nexport default ticker;\n","import {\n  BOOK_UPDATE_MESSAGE,\n  BOOK_SNAPSHOT_MESSAGE,\n  BOOK_UPDATE_CHANNEL\n} from './actions';\n\nconst initialState = {\n  channel: {\n    event: null,\n    channel: 'book',\n    chanId: null,\n    symbol: 'tBTCUSD',\n    prec: 'P0',\n    freq: 'F1',\n    len: '25',\n    pair: 'BTCUSD'\n  },\n  asks: {},\n  bids: {}\n};\n\nfunction book(state = initialState, action) {\n  switch (action.type) {\n    case BOOK_SNAPSHOT_MESSAGE:\n      let books = action.payload[1];\n      books = books.reduce(\n        (acc, [price, count, amount], currentIndex) =>\n          currentIndex < 25\n            ? {\n                ...acc,\n                asks: { ...acc.asks, [price]: { amount, count, price } }\n              }\n            : {\n                ...acc,\n                bids: { ...acc.bids, [price]: { amount, count, price } }\n              },\n        initialState\n      );\n      return { ...books, channel: action.channel };\n    case BOOK_UPDATE_MESSAGE:\n      /*\n        when count > 0 then you have to add or update the price level\n        3.1 if amount > 0 then add/update bids\n        3.2 if amount < 0 then add/update asks\n        when count = 0 then you have to delete the price level.\n        4.1 if amount = 1 then remove from bids\n        4.2 if amount = -1 then remove from asks\n      */\n      const [price, count, amount] = action.payload[1];\n      if (count > 0) {\n        if (amount > 0) {\n          return {\n            ...state,\n            bids: { ...state.bids, [price]: { amount, count, price } }\n          };\n        }\n        if (amount < 0) {\n          return {\n            ...state,\n            asks: { ...state.asks, [price]: { amount, count, price } }\n          };\n        }\n      } else if (count === 0) {\n        if (amount === 1) {\n          const bidsCopy = { ...state.bids };\n          delete bidsCopy[price];\n          return {\n            ...state,\n            bids: bidsCopy\n          };\n        }\n        if (amount === -1) {\n          const asksCopy = { ...state.asks };\n          delete asksCopy[price];\n          return {\n            ...state,\n            asks: asksCopy\n          };\n        }\n      }\n      return {\n        ...state\n      };\n    case BOOK_UPDATE_CHANNEL:\n      return {\n        ...state,\n        channel: {\n          ...state.channel,\n          ...action.channel\n        }\n      };\n    default:\n      return state;\n  }\n}\n\nexport default book;\n","import { TRADE_UPDATE_MESSAGE, TRADE_ADD_MESSAGE } from './actions';\n\nconst initialState = {\n  tBTCUSD: []\n};\n\nfunction trades(state = initialState, action) {\n  switch (action.type) {\n    case TRADE_UPDATE_MESSAGE:\n      return {\n        ...state,\n        [action.payload.symbol]: action.payload.trades\n      };\n    case TRADE_ADD_MESSAGE:\n      return {\n        ...state,\n        [action.payload.symbol]: [\n          action.payload.newTrade,\n          ...state[action.payload.symbol].slice(0, -1)\n        ]\n      };\n    default:\n      return state;\n  }\n}\n\nexport default trades;\n","import React, { Component } from 'react';\nimport MainTicker from './components/MainTicker/MainTicker';\nimport Trades from './components/Trades/Trades';\nimport OrderBook from './components/OrderBook/OrderBook';\nimport { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport { Provider } from 'react-redux';\nimport ticker from './store/ticker/reducer';\nimport book from './store/orderBook/reducer';\nimport trades from './store/trades/reducer';\nimport thunk from 'redux-thunk';\nimport './App.css';\n\nconst reducers = {\n  ticker,\n  book,\n  trades\n};\n\nconst reducer = combineReducers(reducers);\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store: Store = createStore(\n  reducer,\n  composeEnhancer(applyMiddleware(thunk))\n);\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <div className=\"App\">\n          <MainTicker />\n          <Trades />\n          <OrderBook />\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}